<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Recoger Datos Formularios</title>
    <style type="text/css">
        form {
            padding: 1%;
            border: 2px solid black;
            text-align: center;
        }

        #groups {
            border: 2px solid black;
            position: absolute;
            margin-top: 3%;
            left: 40%;
        }

        #content-form #tamaño, #numerogrupos {
            width: 50px;
        }
    </style>
    <script type="text/javascript">
        //Funcion añadir grupos
        function añadirGroups() {
            let miembros = document.getElementById('member').value;
            const numGroup = document.getElementById('numerogrupos').value;
            const tableGroup = document.getElementById('groups');
            let td = document.createElement('td');//Creamos el elemento td
            let tr = document.createElement('td');//Creamos el elemento tr
           if (miembros.indexOf(',')>=0 && numGroup>=0){
                miembros = miembros.split(',');
                 for (let g = 0;g<numGroup;g++){//Recorremos las veces del numero de grupo que ha indicado el usuario
                          td.append(`Grupo${g+1}: ${mezclador(miembros)}`);
                          tr.append(td);
                          tableGroup.append(tr);
                  }
            } else if(miembros===''){
               alert('Error, no se ha encontrado miembros');
           }else if (miembros.indexOf(',')==-1) {
               alert('Error no se ha encontrado coma');
           }
        }

        //Funcion mezcla los miembros
        function mezclador(m) {
            for (let cont = 0; cont < m.length; cont++) {
                let r = Math.floor(Math.random() * (cont + 0));
                let temp = m[cont];
                m[cont] = m[r];
                m[r] = temp;
            }
            return m;
        }

        //Funcion vaciar grupos
        function vaciarGroups(){
            const group = document.getElementById('groups');
            for (let c = 1; c<group.childElementCount;c++){
                group.removeChild(group.children[c]);
            }
        }

    </script>
</head>
<body>
<form action="#">
    <div id="content-form">
        <div>
            <label for="member">Miembros</label>
            <textarea name="" id="member" cols="30" rows="10" placeholder="Separar por comas"></textarea>
        </div>
        <div>
            <label>¿Cuantos grupos quieres?</label>
            <input type="number" id="numerogrupos">
        </div>

    </div>
    <input type="submit" value="Generar Grupos" onclick="añadirGroups()">
    <div id="vaicarGrupos" onclick="vaciarGroups()">
        <p onclick="vaciarGroups()">Vaciar Grupos</p>
    </div>
</form>

</table>
<table id="groups">
    <tr>
        <th>Grupos</th>
    </tr>
</table>

</body>
</html>